<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Gallery</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
</head>
<body>
    <div th:replace="header :: header"></div>

    <div class="main">
            <div>
                <h5>Apartment List</h5>
                <br/><br/>

                <h3>Filter panel</h3>
                <form th:action="@{/gallery}" th:object="${apartDTO}">
                    <h4>Filter by:</h4>
                    <label for="city">City</label>
                    <input type="text" name="city" id="city" th:value="${apartDTO.city}"/>

                    <label for="address">Address</label>
                    <input type="text" name="address" id="address" th:value="${apartDTO.address}"/>

                    <label for="rooms">Rooms</label>
                    <input type="number" name="rooms" id="rooms" th:value="${apartDTO.rooms}"/>

                    <label for="type">Type</label>
                    <select name="type" id="type" th:field="*{type}">
                        <!--th:text="#{${'seedstarter.type.' + type}}"-->
                        <option th:value="0"
                                th:text="'ALL TYPES'">
                        </option>
                        <option th:each="apartType : ${apartTypes}"
                                th:text="${apartType.name}"
                                th:value="${apartType}">

                        </option>
                    </select>

                    <label for="lowerBound">Price min</label>
                    <input type="number" name="lowerBound" id="lowerBound" th:value="${apartDTO.lowerBound}"/>

                    <label for="upperBound">Price max</label>
                    <input type="number" name="upperBound" id="upperBound" th:value="${apartDTO.upperBound}"/>

                    <button >Submit</button>
                </form>

                <div class="col">
                    <div class="row">
                        <div th:each="apartment: ${apartments}">
                            <h2 th:text="${apartment.city} + ', ' + ${apartment.address}"></h2>
                            <h6 th:text="${apartment.size}"></h6>
                            <h6 th:text="${apartment.description}"></h6>
                            <h6 th:text="${apartment.price}"></h6>
                            <img class="gallery-img" th:src="@{/img/{image}(image=${apartment.photo_url})}" onerror="this.onerror=null;this.src='/img/default.jpg';">
                        </div>
                    </div>
                </div>
                <!--<div class="container">


                    <div th:if="${flat} == true">
                        <h5>Flats!</h5>
                        <div class="col">
                            <div class="row">
                                <div th:each="apartment : ${FLAT}">
                                    <h2 th:text="${apartment.address}"></h2>
                                    <h6 th:text="${apartment.size}"></h6>
                                    <h6 th:text="${apartment.description}"></h6>
                                    <h6 th:text="${apartment.price}"></h6>
                                   &lt;!&ndash; <div th:switch="${apartment.photo_url}">
                                        <img th:case="''" th:src="@{/img/default.jpg}">
                                        <img th:case="*" th:src="@{/img/{image}(image=${apartment.photo_url})}">
                                    </div>&ndash;&gt;

                                    &lt;!&ndash;<img th:src="${apartment.photo_url} ? '@{/img/{image}(image=${apartment.photo_url})}' : '@{/img/default.jpg}'" />&ndash;&gt;
                                    <img class="gallery-img" th:src="@{/img/{image}(image=${apartment.photo_url})}" onerror="this.onerror=null;this.src='/img/default.jpg';">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div th:if="${house} == true">
                        <h5>Houses!</h5>
                        <div class="col">
                            <div class="row">
                                <div th:each="apartment : ${HOUSE}">
                                    <h2 th:text="${apartment.address}"></h2>
                                    <h6 th:text="${apartment.size}"></h6>
                                    <h6 th:text="${apartment.description}"></h6>
                                    <h6 th:text="${apartment.price}"></h6>
                                    <img class="gallery-img" th:src="@{/img/{image}(image=${apartment.photo_url})}" onerror="this.onerror=null;this.src='/img/default.jpg';">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div th:if="${mansion} == true">
                        <h5>Mansions!</h5>
                        <div class="col">
                            <div class="row">
                                <div th:each="apartment : ${MANSION}">
                                    <h2 th:text="${apartment.address}"></h2>
                                    <h6 th:text="${apartment.size}"></h6>
                                    <h6 th:text="${apartment.description}"></h6>
                                    <h6 th:text="${apartment.price}"></h6>
                                    <img class="gallery-img" th:src="@{/img/{image}(image=${apartment.photo_url})}" onerror="this.onerror=null;this.src='/img/default.jpg';">
                                </div>
                            </div>
                        </div>
                    </div>

                </div>-->
            </div>
    </div>

    <div th:replace="footer :: footer"></div>

    <script src=”https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js” integrity=”sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo” crossorigin=”anonymous”></script>
    <script src=”https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js” integrity=”sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/” crossorigin=”anonymous”></script>
</body>
</html>