<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <title>Gallery</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/b6ee98f5fe.js" crossorigin="anonymous"></script>
</head>
<body>
    <div th:replace="header :: header"></div>

    <div class="main">
            <div>
                <h5>Apartment List</h5>
<!--            <h3>Filter panel</h3>-->
                <form th:action="@{/gallery}" th:object="${apartDTO}" class="form filter">
                    <h4>Filter by:</h4>

                    <div class="row">

                        <div class="col form-floating">
                            <input class="form-control" type="text" name="city" id="city" placeholder="City"
                                   th:value="${apartDTO.city}"/>
                            <label for="city">City</label>
                        </div>

                        <div class="col form-floating">
                            <input class="form-control" type="text" name="address" id="address" placeholder="Address"
                                   th:value="${apartDTO.address}"/>
                            <label for="address">Address</label>
                        </div>

                        <div class="col form-floating">
                            <select class="form-select" name="type" id="type" placeholder="Type" th:field="*{type}">
                                <option th:value="null"
                                        th:text="'ALL TYPES'">
                                </option>
                                <option th:each="apartType : ${apartTypes}"
                                        th:text="${apartType.name}"
                                        th:value="${apartType}">
                                </option>
                            </select>
                            <label for="type">Type</label>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col form-floating">
                            <input class="form-control" type="number" name="rooms" id="rooms" placeholder="Rooms"
                                   th:value="${apartDTO.rooms}"/>
                            <label for="rooms">Rooms</label>
                        </div>


                        <div class="col form-floating">
                            <input class="form-control" type="number" name="lowerBound" id="lowerBound"
                                   th:value="${apartDTO.lowerBound}"/>
                            <label for="lowerBound">Price min</label>
                        </div>

                        <div class="col form-floating">
                            <input class="form-control" type="number" name="upperBound" id="upperBound"
                                   th:value="${apartDTO.upperBound}"/>
                            <label for="upperBound">Price max</label>
                        </div>
                    </div>

                    <button type="submit">Apply</button>
                </form>


                <div class="container cards">
                    <div class="row">
                        <div class="col">
                            <div th:each="apartment,iterStat : ${apartments}">
                                <div th:if="${iterStat.odd}" class="card">
                                    <img class="card-img-top" th:src="@{/img/{image}(image=${apartment.photo_url})}"
                                         onerror="this.onerror=null;this.src='/img/default.jpg';">
                                    <div class="card-body">
                                    <h2 class="card-title" th:text="${apartment.city} + ', ' + ${apartment.address}"></h2>
                                        <h6 class="card-text" th:text="${apartment.size}"></h6>
                                        <h6 class="card-text" th:text="${apartment.description}"></h6>
                                        <h6 class="card-text" th:text="${apartment.price}"></h6>
                                        <button class="wishlist-btn"><i class="fa-solid fa-heart"></i>Add to WL</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col">
                            <div th:each="apartment,iterStat : ${apartments}">
                                <div th:if="${iterStat.even}" class="card">
                                    <img class="card-img-top" th:src="@{/img/{image}(image=${apartment.photo_url})}"
                                         onerror="this.onerror=null;this.src='/img/default.jpg';">
                                    <div class="card-body">
                                        <h2 class="card-title" th:text="${apartment.city} + ', ' + ${apartment.address}"></h2>
                                        <h6 class="card-text" th:text="${apartment.size}"></h6>
                                        <h6 class="card-text" th:text="${apartment.description}"></h6>
                                        <h6 class="card-text" th:text="${apartment.price}"></h6>
                                        <button class="wishlist-btn"><i class="fa-solid fa-heart"></i>Add to WL</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
    </div>

    <div th:replace="footer :: footer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
</body>
</html>